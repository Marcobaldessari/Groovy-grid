function spring(){this.height=linePosition,this.speed=0,this.update=function(){var e=linePosition-this.height;this.speed+=tension*e-this.speed*dampen,this.height+=this.speed}}function animate(){ctx.clearRect(0,0,w,h);var e;for(e=0;e<water.length;e++)water[e].update();for(var t=new Array(water.length),i=new Array(water.length),n=0;n<8;n++){for(e=0;e<water.length;e++)e>0&&(t[e]=k*(water[e].height-water[e-1].height),water[e-1].speed+=t[e]),e<water.length-1&&(i[e]=k*(water[e].height-water[e+1].height),water[e+1].speed+=i[e]);for(e=0;e<water[e].length;e++)e>0&&(water[e-1].height+=t[e]),e<water.length-1&&(water[e+1].height+=i[e])}ctx.strokeStyle="black",ctx.beginPath(),ctx.moveTo(0,water[0].height);for(var e=0;e<water.length;e++)ctx.lineTo((e+1)*(w/res),water[e].height);ctx.stroke(),window.requestAnimationFrame(animate)}var c=document.getElementById("canvas"),w=window.innerWidth,h=window.innerHeight,ctx=c.getContext("2d"),mouse,drops=[],shower=!1,water=[],linePosition=250,res=100,k=.025,tension=.1,dampen=.02;c.width=w,c.height=h;for(var i=0;i<res;i++)water[i]=new spring;animate(),document.addEventListener("mousemove",function(e){mouse=new function(){this.x=e.clientX-c.getBoundingClientRect().left,this.y=e.clientY-c.getBoundingClientRect().top,this.col=Math.floor(res/w*this.x)},mouse.y==Math.floor(water[5].height)&&(water[mouse.col].speed=water[mouse.col].speed+10,console.log(water[mouse.col].speed))},!1),c.addEventListener("click",function(){},!1);